словно Google Maps для вашего компьютера: "Если хочешь попасть туда, иди через этот шлюз".

Попробуйте вывести свою таблицу маршрутов:

```bash
ip route show
```

Образец вывода:

```text
default via 192.168.1.1 dev eth0 proto dhcp metric 100
192.168.1.0/24 dev eth0 proto kernel scope link src 192.168.1.100 metric 100
```

Что это значит:

- `default via 192.168.1.1`: если пакету не указано, куда конкретно идти, отправляй его через шлюз с адресом `192.168.1.1`.
- `dev eth0`: используем интерфейс `eth0`.
- `192.168.1.0/24`: это маршрут для всей подсети `192.168.1.0/24`. Пакеты остаются "дома" в локальной сети.
- `proto` и `metric` – дополнительные параметры, о них чуть позже.
## Команда `ip route`

**Просмотр маршрутов**

Для просмотра таблицы маршрутизации мы уже использовали `ip route show`. Можно добавить фильтры, например, для определения маршрута только для локальной сети:

```bash
ip route show match 192.168.1.0/24
```

**Добавление маршрутов**

Вы можете добавить статический маршрут – это как если сами поставите дорожный знак. Например, чтобы перенаправить все запросы к подсети `10.0.0.0/24` через определённый шлюз:

```bash
sudo ip route add 10.0.0.0/24 via 192.168.1.1 dev eth0
```

Разберём:

- `10.0.0.0/24` – подсеть назначения.
- `via 192.168.1.1` – шлюз, через который отправляются пакеты.
- `dev eth0` – интерфейс, через который пакеты уходят.

**Удаление маршрутов**

Если вы больше не хотите, чтобы маршрут существовал, удаляем его командой:

```bash
sudo ip route del 10.0.0.0/24
```

### оманда `netstat`

Когда дело доходит до анализа текущих соединений, `netstat` – это старый добрый друг системного администратора (хотя ему уже есть более современная альтернатива – `ss`, о которой поговорим позже).

**Проверка активных подключений**

```bash
netstat -tun
```

Что это значит:

- `-t` – показываем TCP-соединения.
- `-u` – показываем UDP-соединения.
- `-n` – использовать числовые адреса (вместо имен хостов).

Пример вывода:

```text
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 192.168.1.100:22        192.168.1.50:50240      ESTABLISHED
```

Что это значит:

- Локальный адрес `192.168.1.100:22` – это ваш компьютер слушает порт 22 (SSH).
- Удалённый адрес `192.168.1.50:50240` – это удалённый хост, который подключён к вашему порту.
- `ESTABLISHED` – это активное соединение, данные передаются.

**Прослушивание портов**

Чтобы увидеть, какие порты "слушают" на вашем компьютере:

```bash
netstat -ltn
```

Флаг `-l` показывает только прослушиваемые порты, а `-t` и `-n` мы уже обсудили.

## Команда `ss`

Если `netstat` – динозавр, то `ss` – это машина ДеЛориан из будущего: работает быстрее и даёт больше информации.

**Проверка активных соединений**

```bash
ss -tun
```

Пример вывода аналогичен `netstat`, но с большей скоростью и детализацией.

**Прослушивание портов**

```bash
ss -tln
```

Всё то же, что и с `netstat`, но работать с `ss` удобнее и современнее.