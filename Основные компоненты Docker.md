## 3.1 Docker Engine

**Docker Engine** — это "движок" Docker, то есть основное программное обеспечение, которое обеспечивает работу контейнеров. Этот движок предоставляет платформу для разработки, доставки и выполнения приложений в изолированных контейнерах. **Docker Engine** содержит несколько ключевых компонентов, которые и обеспечивают полную функциональность **Docker**.

**Docker Engine включает три основных части**:

1. **Docker Daemon**: серверный процесс. Он выполняет основные операции с контейнерами.
2. **Docker API**: интерфейс, который позволяет взаимодействовать с Docker Daemon через программные вызовы.
3. **Docker CLI**: командная строка — интерфейс для работы с **Docker**.

**Роль Docker Engine:**

**Docker Engine** управляет жизненным циклом контейнеров, от создания и запуска до удаления. Он обеспечивает изоляцию контейнеров, что позволяет запускать несколько контейнеров на одном хосте без конфликтов. Docker Engine `делает возможным запуск сложных приложений и микросервисов в контейнерах, что упрощает их разработку, тестирование и развертывание`.

**Эволюция Docker Engine**

С момента своего появления Docker Engine прошел через множество версий и улучшений. Каждое обновление приносило новые функции и улучшения производительности. Например, были добавлены возможности оркестрации контейнеров, такие как Docker Swarm, которые позволяют управлять кластерами контейнеров и автоматизировать развертывание приложений.

## 3.2 Docker Daemon

**Docker Daemon** — это основной серверный процесс, который выполняет все операции Docker. Он работает в фоновом режиме и отвечает за управление контейнерами, образами, сетями и другими ресурсами Docker.

**Функции Docker Daemon:**

1. **Создание и управление контейнерами**: Docker Daemon обрабатывает запросы на создание, запуск, остановку и удаление контейнеров. Он обеспечивает изоляцию контейнеров и распределяет ресурсы между ними.
2. **Работа с образами**: Docker Daemon загружает и хранит образы контейнеров, которые используются для создания контейнеров. Он также управляет кэшем образов для оптимизации использования дискового пространства.
3. **Управление сетью**: Docker Daemon создает и управляет сетями Docker, которые позволяют контейнерам взаимодействовать друг с другом и с внешними системами. Он поддерживает различные сетевые драйверы и настройки для обеспечения гибкости и безопасности.
4. **Управление хранилищем**: Docker Daemon управляет томами и другими типами хранилищ, которые используются контейнерами для хранения данных. Он обеспечивает надежное и эффективное управление данными внутри контейнеров.

**Архитектура Docker Daemon**

**Docker Daemon** использует архитектуру клиент-сервер. Клиент (CLI или API) отправляет команды Docker Daemon, который их обрабатывает и выполняет. Daemon работает под управлением различных операционных систем: Linux, MacOS или Windows.

**Роль в безопасности:**

Docker Daemon играет ключевую роль в обеспечении безопасности контейнеров. Он управляет правами доступа, сетевыми настройками и изоляцией контейнеров, что позволяет ограничить потенциальные угрозы и уязвимости. Используя **namespaces** (технология изоляции процессов и ресурсов) и **cgroups** (механизм управления ресурсами), Docker Daemon изолирует процессы и контролирует использование ресурсов контейнерами, обеспечивая их безопасную работу.

## 3.3 Docker API

**Docker API** — это программный интерфейс, с помощью которого разработчики и системные администраторы могут управлять Docker через код. Он работает по принципу RESTful (Representational State Transfer) — архитектурного стиля, где взаимодействие происходит через стандартные HTTP-запросы, такие, как GET, POST и DELETE. Это позволяет легко автоматизировать задачи, связанные с контейнерами, и интегрировать Docker с другими системами и инструментами.

**Функции Docker API:**

1. **Управление контейнерами**: Docker API позволяет создавать, запускать, останавливать и удалять контейнеры, а также получать информацию о их состоянии и логах.
2. **Работа с образами**: С помощью API можно загружать, создавать, удалять и управлять образами контейнеров.
3. **Сетевые операции**: API поддерживает создание и управление сетями Docker, включая подключение и отключение контейнеров от сетей.
4. **Управление хранилищем**: API предоставляет функции для управления томами и другими типами хранилищ, которые используются контейнерами для хранения данных.

**Использование Docker API:**

Docker API можно использовать с различными языками программирования и инструментами автоматизации, такими, как Python, Go, Java и другие. Это позволяет создавать скрипты и приложения для автоматизации процессов разработки, тестирования и развертывания контейнерных приложений.

**Примеры использования Docker API:**

- **CI/CD**: Автоматизация процесса непрерывной интеграции и развертывания, где каждое изменение в коде автоматически создает новый контейнер и тестирует его.
- **Мониторинг и логирование**: интеграция с системами мониторинга и логирования для отслеживания состояния контейнеров и анализа их производительности.
- **Оркестрация**: управление кластерами контейнеров с помощью Docker Swarm или Kubernetes, используя Docker API для взаимодействия с отдельными узлами и контейнерами.

## 3.4 Docker CLI

**Docker CLI (Command Line Interface)** — это интерфейс командной строки, который позволяет пользователям взаимодействовать с Docker Daemon и выполнять различные операции с контейнерами. Docker CLI обеспечивает удобный и интуитивно понятный способ управления Docker через терминал.

**Основные команды Docker CLI:**

**Docker CLI** поддерживает широкий набор команд, которые позволяют выполнять все основные операции с контейнерами, образами, сетями и хранилищами. Некоторые из этих команд включают:

- **docker run:** запуск нового контейнера из образа.
- **docker build:** создание нового образа из **Dockerfile**.
- **docker pull:** загрузка образа из **Docker Hub** или другого реестра.
- **docker push:** загрузка локального образа в реестр.
- **docker ps:** просмотр списка запущенных контейнеров.
- **docker stop:** остановка запущенного контейнера.
- **docker rm:** удаление остановленного контейнера.
- **docker network:** управление сетями **Docker**.

**Особенности Docker CLI:**

1. **Удобство использования**: Docker CLI разработан так, чтобы быть интуитивно понятным и легким в использовании. Команды имеют простую и логичную структуру, что делает их доступными даже для начинающих пользователей.
2. **Скрипты и автоматизация**: Docker CLI позволяет создавать скрипты для автоматизации задач, связанных с контейнерами. Это упрощает управление большими кластерами контейнеров и позволяет интегрировать Docker с другими инструментами и системами.
3. **Расширяемость**: Docker CLI поддерживает плагины, которые позволяют расширять функциональность и добавлять новые команды. Это делает Docker CLI гибким и адаптируемым под различные требования и сценарии использования.

**Взаимодействие между компонентами:**

Docker CLI взаимодействует с Docker Daemon через Docker API. Когда пользователь вводит команду в Docker CLI, она отправляется на обработку Docker Daemon, который выполняет соответствующие действия и возвращает результат обратно в CLI. Это взаимодействие обеспечивает мощный и гибкий способ управления контейнерами и ресурсами Docker.

**Примеры использования Docker CLI:**

- **Разработка**: разработчики могут использовать Docker CLI для быстрого создания изолированных сред разработки и тестирования, что позволяет легко переключаться между различными версиями библиотек и фреймворков.
- **Развертывание**: администраторы могут использовать Docker CLI для автоматизации развертывания приложений на серверы и в облачные среды, обеспечивая стабильность и предсказуемость процесса.
- **Отладка и мониторинг**: с помощью Docker CLI можно легко получать доступ к логам контейнеров, проверять их состояние и производить отладку приложений.

![](https://cdn.javarush.com/images/article/f46b05b7-209e-47a5-a4ce-b05f9416695a/800.webp)

Docker Engine, Docker Daemon, Docker API и Docker CLI — это основные компоненты, обеспечивающие функционирование и управление контейнерами в экосистеме Docker. Docker Engine — ядро системы, которое включает в себя Docker Daemon и Docker API. Docker Daemon выполняет все операции по созданию и управлению контейнерами, Docker API предоставляет программный интерфейс для взаимодействия с Daemon, а Docker CLI обеспечивает удобный интерфейс для выполнения различных команд.